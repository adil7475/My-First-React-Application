{"ast":null,"code":"var _jsxFileName = \"/home/coeus/Desktop/React/movie-list/src/components/MovieList.jsx\";\nimport React, { Component } from 'react';\nimport { getMovies } from \"../services/fakeMovieService\";\nimport { getGenres } from '../services/fakeGenreService';\nimport Like from \"../common/Like\";\nimport Pagination from \"../common/Pagination\";\nimport { Paginate } from '../helpers/Paginate';\nimport ListGroup from '../common/ListGroup';\n\nclass Movies extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      movies: [],\n      genres: [],\n      pageSize: 4,\n      selectedGenre: '',\n      currentPage: 1\n    };\n\n    this.handleDelete = id => {\n      let movies = this.state.movies.filter(movie => movie._id != id);\n      this.setState({\n        movies: movies\n      });\n    };\n\n    this.handleLikeMovie = movie => {\n      let movies = [...this.state.movies];\n      let new_movie = { ...movie\n      };\n      const index = movies.indexOf(movie);\n      movies[index] = new_movie;\n      movies[index].like = !movies[index].like;\n      this.setState({\n        movies: movies\n      });\n    };\n\n    this.handlePageChange = page => {\n      this.setState({\n        currentPage: page\n      });\n      let movies = [...this.state.movies];\n    };\n\n    this.handleGenreChange = genre => {\n      this.setState({\n        selectedGenre: genre\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      movies: getMovies(),\n      genres: getGenres()\n    });\n  }\n\n  render() {\n    //some object destructuring\n    let {\n      length: count\n    } = this.state.movies;\n    let {\n      pageSize,\n      currentPage,\n      movies: allMovies\n    } = this.state;\n    const movies = Paginate(allMovies, currentPage, pageSize);\n    if (count === 0) return React.createElement(\"p\", {\n      style: {\n        fontWeight: 'bold',\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"No movie found\");\n    return React.createElement(\"main\", {\n      role: \"main\",\n      className: \"container\",\n      style: {\n        padding: 23\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(ListGroup, {\n      genres: this.state.genres,\n      selectedGenre: this.state.selectedGenre,\n      onGenreChange: this.handleGenreChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        fontWeight: 'bold',\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, count, \" movies found \"), React.createElement(\"div\", {\n      className: \"starter-template\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Id\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"No. in stock\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, movies.map(movie => React.createElement(\"tr\", {\n      key: movie._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, movie._id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, movie.title), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, movie.numberInStock), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Like, {\n      movie: movie,\n      movieLiked: this.handleLikeMovie,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger btn-xs\",\n      onClick: () => this.handleDelete(movie._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Delete\")))))), React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Pagination, {\n      itemsCount: count,\n      pageSize: pageSize,\n      currentPage: currentPage,\n      onPageChange: this.handlePageChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default Movies;","map":{"version":3,"sources":["/home/coeus/Desktop/React/movie-list/src/components/MovieList.jsx"],"names":["React","Component","getMovies","getGenres","Like","Pagination","Paginate","ListGroup","Movies","state","movies","genres","pageSize","selectedGenre","currentPage","handleDelete","id","filter","movie","_id","setState","handleLikeMovie","new_movie","index","indexOf","like","handlePageChange","page","handleGenreChange","genre","componentDidMount","render","length","count","allMovies","fontWeight","textAlign","padding","map","title","numberInStock"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { getMovies } from \"../services/fakeMovieService\";\nimport { getGenres } from '../services/fakeGenreService';\nimport Like from \"../common/Like\"\nimport Pagination from \"../common/Pagination\"\nimport {Paginate} from '../helpers/Paginate'\nimport ListGroup from '../common/ListGroup';\n\nclass Movies extends Component {\n    state = { \n        movies: [],\n        genres: [],\n        pageSize: 4,\n        selectedGenre: '',\n        currentPage: 1\n     }\n\n    componentDidMount(){\n        this.setState({\n            movies: getMovies(),\n            genres: getGenres()\n        });\n    } \n\n    handleDelete = (id) => {\n        let movies = this.state.movies.filter( movie => movie._id != id)\n        this.setState({\n            movies: movies\n        });\n    }\n\n    handleLikeMovie = (movie) => {\n        let movies = [...this.state.movies];\n        let new_movie = {...movie};\n        const index = movies.indexOf(movie);\n        movies[index] = new_movie;\n        movies[index].like = !(movies[index].like);\n        this.setState({\n            movies: movies\n        })\n    }\n\n    handlePageChange = (page) => {\n        this.setState({\n            currentPage: page\n        })\n        let movies = [...this.state.movies];\n\n    }\n\n    handleGenreChange = (genre) => {\n        this.setState({\n            selectedGenre: genre\n        })\n    }\n\n    render() { \n        //some object destructuring\n        let {length: count} = this.state.movies\n        let {pageSize, currentPage, movies:allMovies} = this.state\n\n        const movies = Paginate(allMovies, currentPage, pageSize);\n\n        if(count === 0)\n            return <p style={{fontWeight: 'bold', textAlign: 'center'}}>No movie found</p>    \n        return (     \n        <main role=\"main\" className=\"container\" style={{padding: 23}}>\n            <div className=\"row\">\n                <div className=\"col-2\">\n                    <ListGroup genres={ this.state.genres } selectedGenre={ this.state.selectedGenre } onGenreChange={ this.handleGenreChange }/>\n                </div>\n\n                <div className=\"col\">\n                    <p style={{fontWeight: 'bold', textAlign: 'center'}}>{ count } movies found </p>\n                    <div className=\"starter-template\">\n                        <table className=\"table\">\n                            <thead>\n                                <tr>\n                                    <th>Id</th>\n                                    <th>Title</th>\n                                    <th>No. in stock</th>\n                                    <th></th>\n                                    <th>Action</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                { movies.map( movie => (<tr key={ movie._id}>\n                                                <td>{ movie._id }</td>\n                                                <td>{ movie.title }</td>\n                                                <td>{ movie.numberInStock }</td>\n                                                <td>\n                                                    <Like movie={ movie } movieLiked={ this.handleLikeMovie} />\n                                                </td>\n                                                <td><button className=\"btn btn-danger btn-xs\" onClick={() => this.handleDelete(movie._id)}>Delete</button></td>\n                                            </tr>))\n                                }\n                            </tbody>\n                        </table>\n\n                        <div className=\"row\" style={{ textAlign: 'center'}}>\n                            <Pagination itemsCount={count} pageSize={ pageSize } currentPage={ currentPage } onPageChange={ this.handlePageChange }/>\n                        </div>            \n                    </div>\n                </div>\n            </div>\n           \n        </main>\n      );\n    }\n}\n \nexport default Movies;"]},"metadata":{},"sourceType":"module"}