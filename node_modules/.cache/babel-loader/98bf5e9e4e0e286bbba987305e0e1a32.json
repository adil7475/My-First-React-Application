{"ast":null,"code":"import React, { Component } from 'react';\nimport { Joi } from 'joi';\n\nclass Form extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.validate = () => {\n      const {\n        error\n      } = Joi.validate(this.state.account, this.schema, {\n        abortEarly: false\n      }); //check if no error exists then return null\n\n      if (!error) return null; //create a new errors object for storing errors\n\n      const errors = {};\n      error.details.map(detail => {\n        errors[detail.path[0]] = detail.message;\n      });\n      return errors;\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let errors = this.validate();\n      this.setState({\n        errors: errors || {}\n      }); //if has error return\n\n      if (errors) return; //Logic if has no errors\n\n      this.doSubmit();\n    };\n  }\n\n}\n\nexport default Form;","map":{"version":3,"sources":["/home/coeus/Desktop/React/movie-list/src/common/Form.jsx"],"names":["React","Component","Joi","Form","validate","error","state","account","schema","abortEarly","errors","details","map","detail","path","message","handleSubmit","e","preventDefault","setState","doSubmit"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,GAAT,QAAoB,KAApB;;AAEA,MAAMC,IAAN,SAAmBF,SAAnB,CAA6B;AAAA;AAAA;;AAAA,SACzBG,QADyB,GACd,MAAM;AACb,YAAM;AAACC,QAAAA;AAAD,UAAUH,GAAG,CAACE,QAAJ,CAAa,KAAKE,KAAL,CAAWC,OAAxB,EAAiC,KAAKC,MAAtC,EAA8C;AAAEC,QAAAA,UAAU,EAAE;AAAd,OAA9C,CAAhB,CADa,CAEb;;AACA,UAAG,CAACJ,KAAJ,EAAW,OAAO,IAAP,CAHE,CAKb;;AACA,YAAMK,MAAM,GAAG,EAAf;AACAL,MAAAA,KAAK,CAACM,OAAN,CAAcC,GAAd,CAAmBC,MAAM,IAAI;AACzBH,QAAAA,MAAM,CAACG,MAAM,CAACC,IAAP,CAAY,CAAZ,CAAD,CAAN,GAAyBD,MAAM,CAACE,OAAhC;AACH,OAFD;AAIA,aAAOL,MAAP;AACH,KAbwB;;AAAA,SAezBM,YAfyB,GAeTC,CAAD,IAAO;AAClBA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIR,MAAM,GAAG,KAAKN,QAAL,EAAb;AACA,WAAKe,QAAL,CAAc;AACVT,QAAAA,MAAM,EAAEA,MAAM,IAAI;AADR,OAAd,EAHkB,CAOlB;;AACA,UAAGA,MAAH,EAAW,OARO,CASlB;;AACA,WAAKU,QAAL;AACH,KA1BwB;AAAA;;AAAA;;AA8B7B,eAAejB,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Joi } from 'joi';\n\nclass Form extends Component {\n    validate = () => {\n        const {error} = Joi.validate(this.state.account, this.schema, { abortEarly: false });\n        //check if no error exists then return null\n        if(!error) return null; \n\n        //create a new errors object for storing errors\n        const errors = {};\n        error.details.map( detail => {\n            errors[detail.path[0]] = detail.message;\n        });\n        \n        return errors;\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        let errors = this.validate();\n        this.setState({\n            errors: errors || {}\n        })\n        \n        //if has error return\n        if(errors) return; \n        //Logic if has no errors\n        this.doSubmit();\n    }\n    \n}\n \nexport default Form;"]},"metadata":{},"sourceType":"module"}