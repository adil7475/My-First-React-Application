{"ast":null,"code":"import _objectSpread from\"/home/coeus/Desktop/React/movie-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/coeus/Desktop/React/movie-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/coeus/Desktop/React/movie-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/coeus/Desktop/React/movie-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/coeus/Desktop/React/movie-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/coeus/Desktop/React/movie-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Input from'../common/Input';import Joi from'joi';var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);function LoginForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LoginForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={account:{username:'',password:''},errors:{}};_this.schema={username:Joi.string().required(),password:Joi.string().required()};_this.validate=function(){var _Joi$validate=Joi.validate(_this.state.account,_this.schema,{abortEarly:false}),error=_Joi$validate.error;//check if no error exists then return null\nif(!error)return null;//create a new errors object for storing errors\nvar errors={};error.details.map(function(detail){return errors[detail.path[0]]=detail.message;});return errors;};_this.handleSubmit=function(e){e.preventDefault();var errors=_this.validate();if(!errors){_this.setState({errors:errors});console.log(_this.state.errors);}else{console.log('submitted');}};_this.handleChange=function(e){var account=_objectSpread({},_this.state.account);account[e.currentTarget.name]=e.currentTarget.value;_this.setState({account:account});};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-4\"}),React.createElement(\"div\",{className:\"col-md-4\"},React.createElement(\"h3\",null,\"Login\"),React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(Input,{label:\"Username\",id:\"username\",name:\"username\",onChange:this.handleChange,value:this.state.account.username}),React.createElement(Input,{label:\"Password\",id:\"password\",type:\"password\",name:\"password\",onChange:this.handleChange,value:this.state.account.password}),React.createElement(\"button\",{className:\"btn btn-primary btn-block\",style:{marginTop:10}},\"Login\"))));}}]);return LoginForm;}(Component);export default LoginForm;","map":{"version":3,"sources":["/home/coeus/Desktop/React/movie-list/src/components/LoginForm.jsx"],"names":["React","Component","Input","Joi","LoginForm","state","account","username","password","errors","schema","string","required","validate","abortEarly","error","details","map","detail","path","message","handleSubmit","e","preventDefault","setState","console","log","handleChange","currentTarget","name","value","marginTop"],"mappings":"+6BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,iBAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,KAAhB,C,GAEMC,CAAAA,S,2YACFC,K,CAAQ,CACJC,OAAO,CAAE,CACLC,QAAQ,CAAE,EADL,CAELC,QAAQ,CAAE,EAFL,CADL,CAKJC,MAAM,CAAE,EALJ,C,OASRC,M,CAAS,CACLH,QAAQ,CAAEJ,GAAG,CAACQ,MAAJ,GAAaC,QAAb,EADL,CAELJ,QAAQ,CAAEL,GAAG,CAACQ,MAAJ,GAAaC,QAAb,EAFL,C,OAKTC,Q,CAAW,UAAM,mBACGV,GAAG,CAACU,QAAJ,CAAa,MAAKR,KAAL,CAAWC,OAAxB,CAAiC,MAAKI,MAAtC,CAA8C,CAAEI,UAAU,CAAE,KAAd,CAA9C,CADH,CACNC,KADM,eACNA,KADM,CAEb;AACA,GAAG,CAACA,KAAJ,CAAW,MAAO,KAAP,CAEX;AACA,GAAMN,CAAAA,MAAM,CAAG,EAAf,CACAM,KAAK,CAACC,OAAN,CAAcC,GAAd,CAAmB,SAAAC,MAAM,CAAI,CACzB,MAAOT,CAAAA,MAAM,CAACS,MAAM,CAACC,IAAP,CAAY,CAAZ,CAAD,CAAN,CAAyBD,MAAM,CAACE,OAAvC,CACH,CAFD,EAIA,MAAOX,CAAAA,MAAP,CACH,C,OAEDY,Y,CAAe,SAACC,CAAD,CAAO,CAClBA,CAAC,CAACC,cAAF,GACA,GAAId,CAAAA,MAAM,CAAG,MAAKI,QAAL,EAAb,CACA,GAAG,CAACJ,MAAJ,CAAW,CACP,MAAKe,QAAL,CAAc,CACVf,MAAM,CAAEA,MADE,CAAd,EAGAgB,OAAO,CAACC,GAAR,CAAY,MAAKrB,KAAL,CAAWI,MAAvB,EACH,CALD,IAKK,CACDgB,OAAO,CAACC,GAAR,CAAY,WAAZ,EACH,CAEJ,C,OAEDC,Y,CAAe,SAACL,CAAD,CAAO,CAClB,GAAIhB,CAAAA,OAAO,kBAAO,MAAKD,KAAL,CAAWC,OAAlB,CAAX,CAEAA,OAAO,CAACgB,CAAC,CAACM,aAAF,CAAgBC,IAAjB,CAAP,CAAgCP,CAAC,CAACM,aAAF,CAAgBE,KAAhD,CACA,MAAKN,QAAL,CAAc,CACVlB,OAAO,CAAEA,OADC,CAAd,EAGH,C,4EAEQ,CACL,MACI,4BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,UAAf,EADJ,CAEI,2BAAK,SAAS,CAAC,UAAf,EACI,sCADJ,CAEI,4BAAM,QAAQ,CAAE,KAAKe,YAArB,EACI,oBAAC,KAAD,EAAO,KAAK,CAAC,UAAb,CAAwB,EAAE,CAAC,UAA3B,CAAsC,IAAI,CAAC,UAA3C,CAAsD,QAAQ,CAAG,KAAKM,YAAtE,CAAqF,KAAK,CAAG,KAAKtB,KAAL,CAAWC,OAAX,CAAmBC,QAAhH,EADJ,CAGI,oBAAC,KAAD,EAAO,KAAK,CAAC,UAAb,CAAwB,EAAE,CAAC,UAA3B,CAAsC,IAAI,CAAC,UAA3C,CAAsD,IAAI,CAAC,UAA3D,CAAsE,QAAQ,CAAG,KAAKoB,YAAtF,CAAqG,KAAK,CAAG,KAAKtB,KAAL,CAAWC,OAAX,CAAmBE,QAAhI,EAHJ,CAKI,8BAAQ,SAAS,CAAC,2BAAlB,CAA8C,KAAK,CAAE,CAAEuB,SAAS,CAAE,EAAb,CAArD,UALJ,CAFJ,CAFJ,CADJ,CAeH,C,uBApEmB9B,S,EAuExB,cAAeG,CAAAA,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport Input from '../common/Input';\nimport Joi from 'joi';\n\nclass LoginForm extends Component {\n    state = { \n        account: {\n            username: '',\n            password: ''\n        },\n        errors: {}\n     }\n\n    //declaring schema for validation\n    schema = {\n        username: Joi.string().required(),\n        password: Joi.string().required()\n    }\n\n    validate = () => {\n        const {error} = Joi.validate(this.state.account, this.schema, { abortEarly: false });\n        //check if no error exists then return null\n        if(!error) return null; \n\n        //create a new errors object for storing errors\n        const errors = {};\n        error.details.map( detail => {\n            return errors[detail.path[0]] = detail.message;\n        });\n        \n        return errors;\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        let errors = this.validate();\n        if(!errors){\n            this.setState({\n                errors: errors\n            });\n            console.log(this.state.errors);\n        }else{\n            console.log('submitted');\n        }\n        \n    }\n\n    handleChange = (e) => {\n        let account = {...this.state.account}\n\n        account[e.currentTarget.name] = e.currentTarget.value;\n        this.setState({\n            account: account\n        })\n    }\n\n    render() { \n        return ( \n            <div className=\"row\">\n                <div className=\"col-md-4\"></div>\n                <div className=\"col-md-4\">\n                    <h3>Login</h3>\n                    <form onSubmit={this.handleSubmit}>\n                        <Input label='Username' id='username' name='username' onChange={ this.handleChange } value={ this.state.account.username } />\n\n                        <Input label=\"Password\" id=\"password\" type=\"password\" name=\"password\" onChange={ this.handleChange } value={ this.state.account.password } />\n\n                        <button className=\"btn btn-primary btn-block\" style={{ marginTop: 10}}>Login</button>\n                    </form>\n                </div> \n            </div>\n         );\n    }\n}\n \nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}